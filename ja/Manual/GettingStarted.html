<!doctype html><html lang=ja><head><meta charset=utf-8><meta data-id=0323624b3f8ef0e5f0104d4f7da63da8><meta name=viewport content="width=device-width,initial-scale=1"><title>Getting Started</title><link rel="shortcut icon" type=image/x-icon href=../../img/favicon.ico><link rel=stylesheet href=../../css/style-main.css><link rel=stylesheet href=../../css/style-browser.css><link rel=stylesheet href=../../css/page-counter-book.css><link rel=stylesheet href=../../css/style-book.css><input type=checkbox id=accordion-btn-check>
<label for=accordion-btn-check class=accordion-btn><span></span></label><aside id=menu><input type=checkbox id=humburger-btn-check>
<label for=humburger-btn-check class=humburger-btn><span></span></label><div class=menu-content><section id=menu-header><div class=logo><img src=../../img/logo.png></div></section><h4><a href=../../ja/index.html>Hugo-theme-vivliocli</a></h4><nav id=menu-navigation><ul><details><summary><a href=../../ja/Manual.html id=c227826866e5ab6b98f048b55d14b8b0>User Guide</a></summary><ul><li><a href=../../ja/Manual/GettingStarted.html id=0323624b3f8ef0e5f0104d4f7da63da8>第1章 Getting Started</a><li><a href=../../ja/Manual/MarkdownShowcase.html id=c2dd1785c046e87b94fca1a213076622>第2章 MarkdownとShortcodes</a><li><a href=../../ja/Manual/frontmatter.html id=3ff0ec5295dedda79ccc3039f99db050>第3章 フロントマター</a><li><a href=../../ja/Manual/config.html id=f1a3199b0222c3310ccd15ed890b6a03>第4章 config.tomlの設定</a><li><a href=../../ja/Manual/pdfconfig.html id=e75609446cd50aeb440af6e29ec28365>第5章 _pdf.mdの設定</a><li><a href=../../ja/Manual/edition.html id=cb290a5aaa03db9025408b553dc8302d>第6章 エディション</a><li><a href=../../ja/Manual/Tags.html id=9efa2410ac9322699a20448a5caa1636>第7章 タグ付け</a></ul></details></ul></nav><section id=menu-footer><hr><div class=language-selector><details class=select-language><summary>Languages</summary><div class=one-language><a href=../../ja/Manual/GettingStarted.html>Japanese</a></div><div class=one-language><a href=../../en/Manual/GettingStarted.html>English</a></div></details></div><div class=menu-footer><a href=../../ja/tags.html>tags</a></div><hr><div class=menu-footer-space></div></section></div></aside></head><body><input type=checkbox id=right-accordion-btn-check>
<label for=right-accordion-btn-check class=right-accordion-btn><span></span></label><div id=content><input type=checkbox id=pagetoc-accordion-btn-check>
<label for=pagetoc-accordion-btn-check class=pagetoc-accordion-btn>目次</label><nav id=TableOfContents-sidebar><div class=taglist><li><a href=../../ja/tags/tutorial.html>tutorial</a></li></div><ul><details open><summary><a href=#%e5%af%be%e8%b1%a1%e7%92%b0%e5%a2%83 class=pdftoc>1.1対象環境</a></summary></details>
<details open><summary><a href=#%e3%82%a4%e3%83%b3%e3%82%b9%e3%83%88%e3%83%bc%e3%83%ab class=pdftoc>1.2インストール</a></summary><ul><li><a href=#hugo%e3%81%ae%e3%82%a4%e3%83%b3%e3%82%b9%e3%83%88%e3%83%bc%e3%83%ab>Hugoのインストール</a></li><li><a href=#nodejs%e3%81%a8vivliostyle%e3%81%ae%e3%82%a4%e3%83%b3%e3%82%b9%e3%83%88%e3%83%bc%e3%83%ab>Node.jsとVivliostyleのインストール</a></li><li><a href=#%e3%82%b5%e3%82%a4%e3%83%88%e4%bd%9c%e6%88%90%e3%81%a8%e3%83%86%e3%83%bc%e3%83%9e%e3%81%ae%e3%82%a4%e3%83%b3%e3%82%b9%e3%83%88%e3%83%bc%e3%83%ab>サイト作成とテーマのインストール</a></li><li><a href=#examplesite%e3%81%8b%e3%82%89%e3%83%95%e3%82%a1%e3%82%a4%e3%83%ab%e3%82%92%e3%82%b3%e3%83%94%e3%83%bc%e3%81%99%e3%82%8b>exampleSiteからファイルをコピーする</a></li></ul></details><details open><summary><a href=#%e6%9c%80%e5%88%9d%e3%81%ae%e3%82%b5%e3%82%a4%e3%83%88%e3%81%ae%e4%bd%9c%e6%88%90 class=pdftoc>1.3最初のサイトの作成</a></summary><ul><li><a href=#configtoml%e3%81%ae%e7%b7%a8%e9%9b%86>config.tomlの編集</a></li><li><a href=#%e8%a1%a8%e7%b4%99%e3%81%ae%e4%bd%9c%e6%88%90>表紙の作成</a></li><li><a href=#%e8%a8%98%e4%ba%8b%e3%81%ae%e4%bd%9c%e6%88%90>記事の作成</a></li><li><a href=#%e3%83%93%e3%83%ab%e3%83%89>ビルド</a></li><li><a href=#%e7%ab%a0%e7%af%80%e7%95%aa%e5%8f%b7%e3%82%92%e3%82%ab%e3%82%b9%e3%82%bf%e3%83%9e%e3%82%a4%e3%82%ba%e3%81%99%e3%82%8b>章節番号をカスタマイズする</a></li></ul></details><details open><summary><a href=#nextstep class=pdftoc>1.4NextStep</a></summary></details></ul></nav><h1><span class=section-number>第1章</span><span>Getting Started</span></h1><h2 id=対象環境><span class="section-number pdftoc">1.1</span><span>対象環境<a class=header-anchor href=#対象環境>¶</a></h2></span><p>本解説は Windows を対象環境としています。</p><h2 id=インストール><span class="section-number pdftoc">1.2</span><span>インストール<a class=header-anchor href=#インストール>¶</a></h2></span><h3 id=hugoのインストール>Hugoのインストール<a class=header-anchor href=#hugoのインストール>¶</a></h3><p><a href=https://gohugo.io/>Hugo</a>
<code>v0.94.0</code>以上を
<a href=https://gohugo.io/installation/windows/>公式ページのインストール手順</a>
に従いインストールします。インストールが完了したら、以下のコマンドでHugoのバージョンが表示されることを確認します。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat><span style=display:flex><span>hugo version
</span></span><span style=display:flex><span>:<span style=color:#75715e>: Hugo Static Site Generator vx.xx.x ...</span>
</span></span></code></pre></div><h3 id=nodejsとvivliostyleのインストール>Node.jsとVivliostyleのインストール<a class=header-anchor href=#nodejsとvivliostyleのインストール>¶</a></h3><p><a href=https://nodejs.org/ja/>Node.js</a>
のLTS版をインストールします。インストールが完了したら、以下のコマンドでNode.jsおよびnpmのバージョンが表示されることを確認します。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat><span style=display:flex><span>node -v
</span></span><span style=display:flex><span>:<span style=color:#75715e>: vX.X.X</span>
</span></span><span style=display:flex><span>:<span style=color:#75715e>: note: vivliostyle-cli is not working in Node v14.0.0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>npm -v
</span></span><span style=display:flex><span>:<span style=color:#75715e>: X.X.X</span>
</span></span></code></pre></div><p>次にnpmで
<a href=https://github.com/vivliostyle/vivliostyle-cli>vivliostyle-cli</a>
をインストールします。インストールが完了したら、Vivliostyleのバージョンが表示されることを確認します。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat><span style=display:flex><span>npm install -g @vivliostyle/cli
</span></span><span style=display:flex><span>vivliostyle -v
</span></span><span style=display:flex><span>:<span style=color:#75715e>: cli: X.X.X</span>
</span></span><span style=display:flex><span>:<span style=color:#75715e>: core: X.X.X</span>
</span></span></code></pre></div><h3 id=サイト作成とテーマのインストール>サイト作成とテーマのインストール<a class=header-anchor href=#サイト作成とテーマのインストール>¶</a></h3><p>Hugoで新しいサイトを作成します。ここでは<code>myPDF</code>という名称とします。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat><span style=display:flex><span>hugo new site myPDF
</span></span><span style=display:flex><span><span style=color:#66d9ef>cd</span> myPDF
</span></span></code></pre></div><p><a href=https://github.com/mochimochiki/hugo-theme-vivliocli/releases>releases</a>
から最新の<code>Source code (zip)</code>をダウンロード・解凍し、<code>/themes/hugo-theme-vivliocli</code>に配置します。</p><div class=note><div class=note_title>Note</div><div class=note_content><p>gitを利用する場合、submoduleとして導入することもできます。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat><span style=display:flex><span>git init
</span></span><span style=display:flex><span>git submodule add https://github.com/mochimochiki/hugo-theme-vivliocli themes/hugo-theme-vivliocli
</span></span></code></pre></div></div></div><h3 id=examplesiteからファイルをコピーする>exampleSiteからファイルをコピーする<a class=header-anchor href=#examplesiteからファイルをコピーする>¶</a></h3><p>テーマの中にテンプレートとして利用できるexampleSiteがあります。exampleSiteから必要なファイルをコピーします。また、デフォルトのconfig.tomlは削除しておきます。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat><span style=display:flex><span>xcopy /s themes\hugo-theme-vivliocli\exampleSite\config config\
</span></span><span style=display:flex><span>xcopy /s themes\hugo-theme-vivliocli\exampleSite\CI CI\
</span></span><span style=display:flex><span><span style=color:#66d9ef>del</span> config.toml
</span></span></code></pre></div><h2 id=最初のサイトの作成><span class="section-number pdftoc">1.3</span><span>最初のサイトの作成<a class=header-anchor href=#最初のサイトの作成>¶</a></h2></span><h3 id=configtomlの編集>config.tomlの編集<a class=header-anchor href=#configtomlの編集>¶</a></h3><p><code>/config/default.toml</code>を開き、以下の行をコメントアウトもしくは削除します。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#a6e22e>themesdir</span> = <span style=color:#e6db74>&#34;../..&#34;</span>
</span></span></code></pre></div><p>また、<code>baseURL</code>, <code>title</code> を編集します。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#a6e22e>baseURL</span> = <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>title</span> = <span style=color:#e6db74>&#34;My PDF Site&#34;</span>
</span></span></code></pre></div><h3 id=表紙の作成>表紙の作成<a class=header-anchor href=#表紙の作成>¶</a></h3><p><code>content</code>下に<code>ja/firstpdf</code>,<code>en/firstpdf</code>ディレクトリを作成します。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat><span style=display:flex><span><span style=color:#66d9ef>mkdir</span> content\ja\firstpdf
</span></span><span style=display:flex><span><span style=color:#66d9ef>mkdir</span> content\en\firstpdf
</span></span></code></pre></div><p>次に<code>ja/firstpdf/_pdf.md</code>ファイルを作成して以下のように編集し、文字コードUTF-8で保存します。このファイルはPDFの表紙/前書/目次となります。<code>_pdf.md</code>を配置したディレクトリ下がPDF出力の単位となります。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>---
</span></span><span style=display:flex><span>pdfname: <span style=color:#e6db74>&#39;firstpdf&#39;</span>
</span></span><span style=display:flex><span>doctitle: <span style=color:#e6db74>&#39;My first pdf&#39;</span>
</span></span><span style=display:flex><span>subtitle: <span style=color:#e6db74>&#39;subtitle&#39;</span>
</span></span><span style=display:flex><span>header: <span style=color:#e6db74>&#39;2023/1/1&#39;</span>
</span></span><span style=display:flex><span>author: <span style=color:#e6db74>&#39;auther&#39;</span>
</span></span><span style=display:flex><span>pagesize: <span style=color:#e6db74>&#39;A4&#39;</span>
</span></span><span style=display:flex><span>book: true
</span></span><span style=display:flex><span>cover: true
</span></span><span style=display:flex><span>toc: true
</span></span><span style=display:flex><span>sectionNumberLevel: <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>colophon: false
</span></span><span style=display:flex><span>outputs:
</span></span><span style=display:flex><span>- vivlio_cover
</span></span><span style=display:flex><span>- vivlio_config
</span></span><span style=display:flex><span>---
</span></span></code></pre></div><div class=note><div class=note_title>Note</div><div class=note_content><p>詳細は
<a href=./pdfconfig.html>_pdf.mdの設定</a>
を参照してください。</p></div></div><h3 id=記事の作成>記事の作成<a class=header-anchor href=#記事の作成>¶</a></h3><p>次に記事を作成します。<code>/content/ja/firstpdf</code>に<code>_index.md</code>を作成して以下のように編集します。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-md data-lang=md><span style=display:flex><span>---
</span></span><span style=display:flex><span>title: &#34;firstpdf&#34;
</span></span><span style=display:flex><span>weight: 10
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e6db74>`_index.md`</span>はサイト上のセクションページになります。PDFには含まれません。
</span></span></code></pre></div><p>また<code>/content/ja/firstpdf</code>下に<code>first.md</code>, <code>second.md</code>を作成して以下のように編集して保存します。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-md data-lang=md><span style=display:flex><span>---
</span></span><span style=display:flex><span>title: &#34;最初の記事&#34;
</span></span><span style=display:flex><span>weight: 10
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## 最初の記事
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>こんにちは。これは最初の記事です。
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-md data-lang=md><span style=display:flex><span>---
</span></span><span style=display:flex><span>title: &#34;次の記事&#34;
</span></span><span style=display:flex><span>weight: 20
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## 次の記事
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>こんにちは。これは次の記事です。
</span></span></code></pre></div><p>以下のコマンドでHugoのプレビューを表示してメニューの<code>Languages</code> から<code>Japanese</code>を選択し、作成した記事が表示されることを確認します。記事を編集して保存すると、LiveReloadがかかり、プレビューも更新されます。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat><span style=display:flex><span>hugo server --config config\default.toml
</span></span></code></pre></div><h3 id=ビルド>ビルド<a class=header-anchor href=#ビルド>¶</a></h3><p><code>Ctrl+C</code> でhugoのプレビューを終了し、以下のコマンドを実行してHugoサイトをビルドします。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat><span style=display:flex><span><span style=color:#66d9ef>cd</span> CI\windows
</span></span><span style=display:flex><span>build_pdf.bat
</span></span></code></pre></div><blockquote><p>エラーが出力された場合、PDFを開いたままにしていないか確認してください。開いているとPDFの上書きに失敗します。</p></blockquote><p><code>/public_default/ja/firstPDF.pdf</code>が成果物です。確認してみましょう。</p><h3 id=章節番号をカスタマイズする>章節番号をカスタマイズする<a class=header-anchor href=#章節番号をカスタマイズする>¶</a></h3><p><code>1.1</code>などの章節番号の出力レベルは<code>_pdf.md</code>でカスタマイズすることができます。<code>_pdf.md</code>を開き、以下の箇所を変更してみましょう。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sectionNumberLevel: <span style=color:#ae81ff>2</span> <span style=color:#75715e># -&gt; 1に変更</span>
</span></span></code></pre></div><p>また、トップレベルの出力形式やデリミタの設定は <code>/config/default.toml</code> で設定できます。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  <span style=color:#f92672>[</span>languages.ja.params<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>    sectionDelimiter <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;.&#34;</span>
</span></span><span style=display:flex><span>    sectionTopFormat <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;第%s章&#34;</span> <span style=color:#75715e># -&gt; &#34;Chapter %s&#34; に変更</span>
</span></span></code></pre></div><blockquote><p>その他のconfigパラメータについては
<a href=./config.html>config.tomlの設定</a>
および
<a href=https://gohugo.io/getting-started/configuration/>HUGO公式ドキュメント</a>
などを参照してください。</p></blockquote><p><code>/public_default/ja/firstpdf.pdf</code> で以下のことを確認します。</p><ul><li><code>sectionNumberLevel = 1</code>としたことでセクション番号がトップレベルのみ表示されている</li><li>同時にPDFの目次にもトップレベルのみが表示されるようになっている</li><li><code>sectionTopFormat</code>の指定を"Chapter %s"にしたことで「第1章」ではなく「Chapter 1」となっている</li></ul><h2 id=nextstep><span class="section-number pdftoc">1.4</span><span>NextStep<a class=header-anchor href=#nextstep>¶</a></h2></span><ul><li>原稿で利用できるMarkdownやShortcodesを確認する<ul><li><a href=./MarkdownShowcase.html>MarkdownとShortcodes</a></li></ul></li><li>PDFの表紙や奥付をカスタマイズする<ul><li><a href=./config.html>config.tomlの設定</a></li><li><a href=./pdfconfig.html>_pdf.mdの設定</a></li></ul></li><li>複数のエディションを作る<ul><li><a href=./edition.html>エディション</a></li></ul></li></ul></div><script src=../../js/menuscroll.min.js></script>
<script src=../../js/copyclipboard.min.js></script></body></html>