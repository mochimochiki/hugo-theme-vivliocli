<!doctype html><html lang=en><head><meta charset=utf-8><meta data-id=0323624b3f8ef0e5f0104d4f7da63da8><meta name=viewport content="width=device-width,initial-scale=1"><title>Getting Started</title>
<link rel="shortcut icon" type=image/x-icon href=../../img/favicon.ico><link rel=stylesheet href=../../css/style-main.css><link rel=stylesheet href=../../css/style-browser.css><link rel=stylesheet href=../../css/page-counter-book.css><link rel=stylesheet href=../../css/style-book.css><input type=checkbox id=accordion-btn-check>
<label for=accordion-btn-check class=accordion-btn><span></span></label><aside id=menu><input type=checkbox id=humburger-btn-check>
<label for=humburger-btn-check class=humburger-btn><span></span></label><div class=menu-content><section id=menu-header><div class=logo><img src=../../img/logo.png></div></section><h4><a href=../../en/index.html>hugo-theme-vivliocli</a></h4><nav id=menu-navigation><ul><details><summary><a href=../../en/Manual.html id=c227826866e5ab6b98f048b55d14b8b0>User Guide</a></summary><ul><li><a href=../../en/Manual/GettingStarted.html id=0323624b3f8ef0e5f0104d4f7da63da8>Chapter 1 Getting Started</a><li><a href=../../en/Manual/MarkdownShowcase.html id=c2dd1785c046e87b94fca1a213076622>Chapter 2 Markdown and Shortcodes</a><li><a href=../../en/Manual/frontmatter.html id=3ff0ec5295dedda79ccc3039f99db050>Chapter 3 Frontmatter</a><li><a href=../../en/Manual/config.html id=f1a3199b0222c3310ccd15ed890b6a03>Chapter 4 config.toml</a><li><a href=../../en/Manual/pdfconfig.html id=e75609446cd50aeb440af6e29ec28365>Chapter 5 _pdf.md</a><li><a href=../../en/Manual/edition.html id=cb290a5aaa03db9025408b553dc8302d>Chapter 6 Edition</a><li><a href=../../en/Manual/Tags.html id=9efa2410ac9322699a20448a5caa1636>Chapter 7 Tagging</a></ul></details></ul></nav><section id=menu-footer><hr><div class=language-selector><details class=select-language><summary>Languages</summary><div class=one-language><a href=../../ja/Manual/GettingStarted.html>Japanese</a></div><div class=one-language><a href=../../en/Manual/GettingStarted.html>English</a></div></details></div><div class=menu-footer><a href=../../en/tags.html>tags</a></div><hr><div class=menu-footer-space></div></section></div></aside></head><body><input type=checkbox id=right-accordion-btn-check>
<label for=right-accordion-btn-check class=right-accordion-btn><span></span></label><div id=content><input type=checkbox id=pagetoc-accordion-btn-check>
<label for=pagetoc-accordion-btn-check class=pagetoc-accordion-btn>Table of Contents</label><nav id=TableOfContents-sidebar><div class=taglist><li><a href=../../en/tags/tutorial.html>tutorial</a></li></div><ul><details open><summary><a href=#target-environment class=pdftoc>1.1Target Environment</a></summary></details><details open><summary><a href=#installation class=pdftoc>1.2Installation</a></summary><ul><li><a href=#installing-hugo>Installing Hugo</a></li><li><a href=#installing-nodejs-and-vivliostyle>Installing Node.js and Vivliostyle</a></li><li><a href=#creating-a-site-and-installing-a-theme>Creating a Site and Installing a Theme</a></li><li><a href=#copying-files-from-examplesite>Copying Files from exampleSite</a></li></ul></details><details open><summary><a href=#creating-the-first-site class=pdftoc>1.3Creating the First Site</a></summary><ul><li><a href=#editing-configtoml>Editing config.toml</a></li><li><a href=#creating-a-cover>Creating a Cover</a></li><li><a href=#creating-articles>Creating articles</a></li><li><a href=#building>Building</a></li><li><a href=#customizing-section-numbers>Customizing section numbers</a></li></ul></details><details open><summary><a href=#nextstep class=pdftoc>1.4NextStep</a></summary></details></ul></nav><h1><span class=section-number>Chapter 1</span><span>Getting Started</span></h1><h2 id=target-environment><span class="section-number pdftoc">1.1</span><span>Target Environment<a class=header-anchor href=#target-environment>¶</a></h2></span><p>This guide is for Windows.</p><h2 id=installation><span class="section-number pdftoc">1.2</span><span>Installation<a class=header-anchor href=#installation>¶</a></h2></span><h3 id=installing-hugo>Installing Hugo<a class=header-anchor href=#installing-hugo>¶</a></h3><p>Install
<a href=https://gohugo.io/>Hugo</a> by following the instructions on the
<a href=https://gohugo.io/installation/windows/>official website</a>. After installing, confirm that the version of Hugo is displayed with the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat><span style=display:flex><span>hugo version
</span></span><span style=display:flex><span>:<span style=color:#75715e>: Hugo Static Site Generator vx.xx.x ...</span>
</span></span></code></pre></div><h3 id=installing-nodejs-and-vivliostyle>Installing Node.js and Vivliostyle<a class=header-anchor href=#installing-nodejs-and-vivliostyle>¶</a></h3><p>Install the LTS version of
<a href=https://nodejs.org/en/>Node.js</a>. After installing, confirm the versions of Node.js and npm are displayed with the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat><span style=display:flex><span>node -v
</span></span><span style=display:flex><span>:<span style=color:#75715e>: vX.X.X</span>
</span></span><span style=display:flex><span>:<span style=color:#75715e>: note: vivliostyle-cli is not working in Node v14.0.0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>npm -v
</span></span><span style=display:flex><span>:<span style=color:#75715e>: X.X.X</span>
</span></span></code></pre></div><p>Next, install
<a href=https://github.com/vivliostyle/vivliostyle-cli>vivliostyle-cli</a> with npm. After installing, confirm the version of Vivliostyle with the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat><span style=display:flex><span>npm install -g @vivliostyle/cli
</span></span><span style=display:flex><span>vivliostyle -v
</span></span><span style=display:flex><span>:<span style=color:#75715e>: cli: X.X.X</span>
</span></span><span style=display:flex><span>:<span style=color:#75715e>: core: X.X.X</span>
</span></span></code></pre></div><h3 id=creating-a-site-and-installing-a-theme>Creating a Site and Installing a Theme<a class=header-anchor href=#creating-a-site-and-installing-a-theme>¶</a></h3><p>Create a new site with Hugo. In this example, the site name is <code>myPDF</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat><span style=display:flex><span>hugo new site myPDF
</span></span><span style=display:flex><span><span style=color:#66d9ef>cd</span> myPDF
</span></span></code></pre></div><p>Download and extract the latest <code>Source code (zip)</code> from the
<a href=https://github.com/mochimochiki/hugo-theme-vivliocli/releases>releases page</a>, and place it in <code>/themes/hugo-theme-vivliocli</code>.</p><div class=note><div class=note_title>Note</div><div class=note_content><p>If using Git, it is possible to install it as a submodule.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat><span style=display:flex><span>git init
</span></span><span style=display:flex><span>git submodule add https://github.com/mochimochiki/hugo-theme-vivliocli themes/hugo-theme-vivliocli
</span></span></code></pre></div></div></div><h3 id=copying-files-from-examplesite>Copying Files from exampleSite<a class=header-anchor href=#copying-files-from-examplesite>¶</a></h3><p>The theme includes an exampleSite that can be used as a template. Copy the necessary files from the exampleSite. Also, delete the default <code>config.toml</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat><span style=display:flex><span>xcopy /s themes\hugo-theme-vivliocli\exampleSite\config config\
</span></span><span style=display:flex><span>xcopy /s themes\hugo-theme-vivliocli\exampleSite\CI CI\
</span></span><span style=display:flex><span><span style=color:#66d9ef>del</span> config.toml
</span></span></code></pre></div><h2 id=creating-the-first-site><span class="section-number pdftoc">1.3</span><span>Creating the First Site<a class=header-anchor href=#creating-the-first-site>¶</a></h2></span><h3 id=editing-configtoml>Editing config.toml<a class=header-anchor href=#editing-configtoml>¶</a></h3><p>Open <code>/config/default.toml</code> and comment out or delete the following line:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#a6e22e>themesdir</span> = <span style=color:#e6db74>&#34;../..&#34;</span>
</span></span></code></pre></div><p>Also, edit <code>baseURL</code> and <code>title</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#a6e22e>baseURL</span> = <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>title</span> = <span style=color:#e6db74>&#34;My PDF Site&#34;</span>
</span></span></code></pre></div><h3 id=creating-a-cover>Creating a Cover<a class=header-anchor href=#creating-a-cover>¶</a></h3><p>Create <code>ja/firstpdf</code> and <code>en/firstpdf</code> directories under <code>content</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat><span style=display:flex><span><span style=color:#66d9ef>mkdir</span> content\ja\firstpdf
</span></span><span style=display:flex><span><span style=color:#66d9ef>mkdir</span> content\en\firstpdf
</span></span></code></pre></div><p>Next, create a <code>_pdf.md</code> file under <code>ja/firstpdf</code> and edit it as follows. Save it in UTF-8 format. This file will be the cover/preface/table of contents of the PDF. The directory where <code>_pdf.md</code> is located will be the unit of PDF output.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>---
</span></span><span style=display:flex><span>pdfname: <span style=color:#e6db74>&#39;firstpdf&#39;</span>
</span></span><span style=display:flex><span>doctitle: <span style=color:#e6db74>&#39;My first pdf&#39;</span>
</span></span><span style=display:flex><span>subtitle: <span style=color:#e6db74>&#39;subtitle&#39;</span>
</span></span><span style=display:flex><span>header: <span style=color:#e6db74>&#39;2023/1/1&#39;</span>
</span></span><span style=display:flex><span>author: <span style=color:#e6db74>&#39;auther&#39;</span>
</span></span><span style=display:flex><span>pagesize: <span style=color:#e6db74>&#39;letter&#39;</span>
</span></span><span style=display:flex><span>book: true
</span></span><span style=display:flex><span>cover: true
</span></span><span style=display:flex><span>toc: true
</span></span><span style=display:flex><span>sectionNumberLevel: <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>colophon: false
</span></span><span style=display:flex><span>outputs:
</span></span><span style=display:flex><span>- vivlio_cover
</span></span><span style=display:flex><span>- vivlio_config
</span></span><span style=display:flex><span>---
</span></span></code></pre></div><div class=note><div class=note_title>Note</div><div class=note_content><p>For details, please refer to
<a href=./pdfconfig.html>_pdf.md</a>.</p></div></div><h3 id=creating-articles>Creating articles<a class=header-anchor href=#creating-articles>¶</a></h3><p>Next, create articles. Create <code>_index.md</code> in <code>/content/en/firstpdf</code> and edit it as follows:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-md data-lang=md><span style=display:flex><span>---
</span></span><span style=display:flex><span>title: &#34;firstpdf&#34;
</span></span><span style=display:flex><span>weight: 10
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e6db74>`_index.md`</span> will become the section page on the site and will not be included in the PDF.
</span></span></code></pre></div><p>Also, create <code>first.md</code> and <code>second.md</code> in <code>/content/en/firstpdf</code> and edit and save them as follows:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-md data-lang=md><span style=display:flex><span>---
</span></span><span style=display:flex><span>title: &#34;First article&#34;
</span></span><span style=display:flex><span>weight: 10
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## First article
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>Hello. This is the first article.
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-md data-lang=md><span style=display:flex><span>---
</span></span><span style=display:flex><span>title: &#34;Next article&#34;
</span></span><span style=display:flex><span>weight: 20
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## Next article
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>Hello. This is the next article.
</span></span></code></pre></div><p>Confirm that the created articles are displayed by selecting <code>English</code> from the <code>Languages</code> menu in the Hugo preview displayed with the following command. When you edit and save an article, LiveReload takes effect and the preview is updated.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat><span style=display:flex><span>hugo server --config config\default.toml
</span></span></code></pre></div><h3 id=building>Building<a class=header-anchor href=#building>¶</a></h3><p>Exit the Hugo preview with <code>Ctrl+C</code> and run the following command to build the Hugo site:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat><span style=display:flex><span><span style=color:#66d9ef>cd</span> CI\windows
</span></span><span style=display:flex><span>build_pdf.bat
</span></span></code></pre></div><blockquote><p>If an error is output, check if the PDF is still open. Overwriting the PDF will fail if it is still open.</p></blockquote><p>The result is <code>/public_default/en/firstPDF.pdf</code>. Let&rsquo;s check it.</p><h3 id=customizing-section-numbers>Customizing section numbers<a class=header-anchor href=#customizing-section-numbers>¶</a></h3><p>The output level of chapter numbers such as <code>1.1</code> can be customized in <code>_pdf.md</code>. Open <code>_pdf.md</code> and change the following section:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sectionNumberLevel: <span style=color:#ae81ff>2</span> <span style=color:#75715e># -&gt; change to 1</span>
</span></span></code></pre></div><p>In addition, the top-level output format and delimiter can be set in <code>/config/default.toml</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  <span style=color:#f92672>[</span>languages.en.params<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>    sectionDelimiter <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;.&#34;</span>
</span></span><span style=display:flex><span>    sectionTopFormat <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Chapter %s&#34;</span> <span style=color:#75715e># -&gt; change to &#34;Lesson %s&#34;</span>
</span></span></code></pre></div><blockquote><p>For other config parameters, please refer to the
<a href=./config.html>config.toml</a> and the
<a href=https://gohugo.io/getting-started/configuration/>Hugo documentation</a>, among others.</p></blockquote><p>Check the following in <code>/public_default/en/firstpdf.pdf</code>:</p><ul><li>With <code>sectionNumberLevel = 1</code>, only the top-level section number is displayed</li><li>At the same time, only the top-level is displayed in the table of contents of the PDF</li><li>By specifying <code>sectionTopFormat</code> as &ldquo;Lesson %s&rdquo;, it is displayed as &ldquo;Lesson 1&rdquo; instead of &ldquo;Chapter 1&rdquo;</li></ul><h2 id=nextstep><span class="section-number pdftoc">1.4</span><span>NextStep<a class=header-anchor href=#nextstep>¶</a></h2></span><ul><li>Check the Markdown and Shortcodes that can be used in the manuscript<ul><li><a href=./MarkdownShowcase.html>Markdown and Shortcodes</a></li></ul></li><li>Customize the cover and colophon of the PDF<ul><li><a href=./config.html>config.toml</a></li><li><a href=./pdfconfig.html>_pdf.md</a></li></ul></li><li>Create multiple editions<ul><li><a href=./edition.html>Editions</a></li></ul></li></ul></div><script src=../../js/menuscroll.min.js></script><script src=../../js/copyclipboard.min.js></script></body></html>