<!doctype html><html lang=jp><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>エディション</title><link rel="shortcut icon" type=image/x-icon href=../../img/favicon.ico><link rel=stylesheet href=../../css/vivlio-theme-manual.css><aside id=menu><input type=checkbox id=humburger-btn-check>
<label for=humburger-btn-check class=humburger-btn><span></span></label><div class=menu-content><section id=menu-header><div class=logo><img src=../../img/logo.png></div></section><h4><a href=https://mochimochiki.github.io/hugo-theme-vivliocli/jp/>Hugo-theme-vivliocli</a></h4><ul><li><a href=../../jp/feature1.html>1 feature1</a><li><a href=../../jp/GettingStarted.html>2 Getting Started</a><li><a href=../../jp/Configuration.html>3 hugo-theme-vivliocli</a><ul><li><a href=../../jp/Configuration/config.html>3.1 config.tomlの設定</a><li><a href=../../jp/Configuration/pdfconfig.html>3.2 pdf configファイルの作成</a><li><a href=../../jp/Configuration/shortcodes.html>3.3 ショートコード</a><li><a href=../../jp/Configuration/frontmatter.html>3.4 フロントマター・記事</a><li><a href=../../jp/Configuration/MarkdownShowcase.html>3.5 Markdownショーケース</a><li><a href=../../jp/Configuration/edition.html id=menu-selected class=menu-selected>3.6 エディション</a></ul><li><a href=../../jp/Test.html>4 Test</a></ul><section id=menu-footer><hr><div class=language-selector><select class=select-language onchange="location=this.value;">
<option id=jp value=https://mochimochiki.github.io/hugo-theme-vivliocli/jp/Configuration/edition.html selected>Japanese</option></select></div><div class=menu-footer><a href=../../jp/tags.html>tags</a></div><hr><div class=menu-footer-space></div></section></div></aside></head><body><div id=content><h1>3.6 エディション</h1><nav id=TableOfContents-sidebar><ul><details open><summary><a href=#%e3%82%a8%e3%83%87%e3%82%a3%e3%82%b7%e3%83%a7%e3%83%b3%e3%81%aeconfig%e3%82%92%e4%bd%9c%e6%88%90%e3%81%99%e3%82%8b class=pdftoc>3.6.1 エディションのconfigを作成する</a></summary><ul><li><a href=#%e7%89%b9%e5%ae%9a%e8%a6%81%e7%b4%a0%e3%81%ae%e8%a1%a8%e7%a4%ba%e9%9d%9e%e8%a1%a8%e7%a4%ba%e3%82%92%e5%88%87%e3%82%8a%e6%9b%bf%e3%81%88%e3%82%8b>特定要素の表示/非表示を切り替える</a></li><li><a href=#%e7%89%b9%e5%ae%9a%e8%a8%98%e4%ba%8b%e3%82%bb%e3%82%af%e3%82%b7%e3%83%a7%e3%83%b3%e3%81%ae%e8%a1%a8%e7%a4%ba%e9%9d%9e%e8%a1%a8%e7%a4%ba%e3%82%92%e5%88%87%e3%82%8a%e6%9b%bf%e3%81%88%e3%82%8b>特定記事・セクションの表示/非表示を切り替える</a></li></ul></details><details open><summary><a href=#%e3%83%93%e3%83%ab%e3%83%89%e3%81%99%e3%82%8b class=pdftoc>3.6.2 ビルドする</a></summary></details></ul></nav><p>内容が異なるPDFのファミリーを生成する必要がある場合、HUGOの<a href=https://gohugo.io/getting-started/configuration/#configuration-directory>Configuration Directory</a>の仕組みを利用してエディションを作り分け、構成や記事内容を切り替えてビルドできます。</p><h2 class=pdftoc id=エディションのconfigを作成する>3.6.1 エディションのconfigを作成する<a class=header-anchor href=#エディションのconfigを作成する>¶</a></h2><p><code>/config/pdf_other</code>というディレクトリを作成し、<code>/config/pdf_sample/config.toml</code>をコピーして編集することで簡単に<code>pdf_other</code>エディションを作成することができます。それぞれのエディションのconfigは<a href=./config.html>config.tomlの設定</a>に沿って編集します。以下では主要な設定変更について説明します。</p><h3 id=特定要素の表示非表示を切り替える>特定要素の表示/非表示を切り替える<a class=header-anchor href=#特定要素の表示非表示を切り替える>¶</a></h3><p><a href=./shortcodes.html>ShowIf</a>/<a href=./shortcodes.html>HideIf</a>ショートコード/フロントマターと共に<code>showIfs</code>を使用することで表示/非表示を切り替えます。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml>[<span style=color:#a6e22e>params</span>]
  <span style=color:#a6e22e>showIfs</span> = [<span style=color:#e6db74>&#34;edition1&#34;</span>]
</code></pre></div><p>この場合、<code>.md</code>の記事で以下のように記載した要素が表示されます。</p><pre><code>{{% ShowIf edition1 %}}
ここにedition1をサポートする場合に表示するコンテンツを記述。
{{% /ShowIf %}}
</code></pre><p>以下のように記載した要素はedition1でのみ非表示になります。</p><pre><code>{{% HideIf edition1 %}}
ここにedition1の場合には非表示にするコンテンツを記述。
{{% /HideIf %}}
</code></pre><h3 id=特定記事セクションの表示非表示を切り替える>特定記事・セクションの表示/非表示を切り替える<a class=header-anchor href=#特定記事セクションの表示非表示を切り替える>¶</a></h3><p>記事/セクション単位では以下のようにフロントマターを書いている場合にPDFに含まれます。必ずリスト形式（<code>["xxx", "yyy"]</code>）で書く必要があります。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml>[<span style=color:#a6e22e>params</span>]
  <span style=color:#a6e22e>showIfs</span> = [<span style=color:#e6db74>&#34;edition1&#34;</span>]
</code></pre></div><p><code>config.toml</code>に上記の用に"edition1"を含むとき、以下のページはPDFに含まれることになります。</p><pre><code>---
title: edition1の説明
ShowIf: [&quot;edition1&quot;]
---
</code></pre><blockquote><p><code>config.toml</code>で <code>showIfs = ["@all-pages"]</code> のように、<code>@all-pages</code> を含めると、各記事にShowIfフロントマターが書かれていても強制的に全ページをPDF描画対象とします。</p></blockquote><p><code>HideIf</code>を使用し以下のようにすると、edition1のPDFには含まれなくなります。</p><pre><code>---
title: edition1以外で表示
HideIf: [&quot;edition1&quot;]
---
</code></pre><h2 class=pdftoc id=ビルドする>3.6.2 ビルドする<a class=header-anchor href=#ビルドする>¶</a></h2><p>エディションを指定してビルドするには、引数にエディションを指定します。例えば<code>pdf_other</code>エディションをビルドするには以下のように指定します。</p><pre><code>.\CI\build.bat pdf_other
</code></pre></div><script src=../../js/menuscroll.js></script><script src=../../js/clipboard.js></script></body></html>