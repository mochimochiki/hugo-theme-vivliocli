<!doctype html><html lang=jp><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>ショートコード</title><link rel="shortcut icon" type=image/x-icon href=../../img/favicon.ico><link rel=stylesheet href=../../css/vivlio-theme-manual.css><aside id=menu><input type=checkbox id=humburger-btn-check>
<label for=humburger-btn-check class=humburger-btn><span></span></label><div class=menu-content><section id=menu-header><div class=logo><img src=../../img/logo.png></div></section><h4><a href=https://mochimochiki.github.io/hugo-theme-vivliocli/jp/>Hugo-theme-vivliocli</a></h4><nav id=menu-navigation><ul><details close><summary><a href=../../jp/GettingStarted.html>1 Getting Started</a></summary><ul><li><a href=../../jp/GettingStarted/GettingStarted.html>1.1 Getting Started</a></ul></details><details open><summary><a href=../../jp/Configuration.html>2 hugo-theme-vivliocli</a></summary><ul><li><a href=../../jp/Configuration/config.html>2.1 config.tomlの設定</a><li><a href=../../jp/Configuration/pdfconfig.html>2.2 pdf configファイルの作成</a><li><a href=../../jp/Configuration/shortcodes.html id=menu-selected class=menu-selected>2.3 ショートコード</a><li><a href=../../jp/Configuration/frontmatter.html>2.4 フロントマター・記事</a><li><a href=../../jp/Configuration/MarkdownShowcase.html>2.5 Markdownショーケース</a><li><a href=../../jp/Configuration/edition.html>2.6 エディション</a><li><a href=../../jp/Configuration/Tags.html>2.7 ページにタグ付けする</a></ul></details><details close><summary><a href=../../jp/Test.html>3 Test</a></summary><ul><details close><summary><a href=../../jp/Test/TestChapter1.html>3.1 Test Chapter1</a></summary><ul><li><a href=../../jp/Test/TestChapter1/01_%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB.html>3.1.1 日本語ファイル</a><li><a href=../../jp/Test/TestChapter1/02_pageTOC.html>3.1.2 pageTOC</a><li><a href=../../jp/Test/TestChapter1/03_include.html>3.1.3 include</a><li><a href=../../jp/Test/TestChapter1/04_ShowIfHideIfShortCode.html>3.1.4 ShowIf/HideIf ShortCode テスト</a><li><a href=../../jp/Test/TestChapter1/05_ShowIfFrontMatter.html>3.1.5 ShowIfFrontMatter</a><li><a href=../../jp/Test/TestChapter1/07_TableOfContents.html>3.1.6 Table of contents</a><li><a href=../../jp/Test/TestChapter1/08_pagebreak.html>3.1.7 Page break</a><li><a href=../../jp/Test/TestChapter1/09_ImageResize.html>3.1.8 ImageResize</a><li><a href=../../jp/Test/TestChapter1/10_MathJax.html>3.1.9 MathJaxTest</a><li><a href=../../jp/Test/TestChapter1/11_2columns.html>3.1.10 2columns</a><li><a href=../../jp/Test/TestChapter1/12_2columns_2.html>3.1.11 2columns</a><li><a href=../../jp/Test/TestChapter1/13_Tags.html>3.1.12 タグ付けテスト</a></ul></details></ul></details><li><a href=../../jp/test2.html>4 test2</a></ul></nav><section id=menu-footer><hr><div class=language-selector><select class=select-language onchange="location=this.value;">
<option id=jp value=https://mochimochiki.github.io/hugo-theme-vivliocli/jp/Configuration/shortcodes.html selected>Japanese</option></select></div><div class=menu-footer><a href=../../jp/tags.html>tags</a></div><hr><div class=menu-footer-space></div></section></div></aside></head><body><div id=content><h1>2.3 ショートコード</h1><nav id=TableOfContents-sidebar><ul><details open><summary><a href=#showif class=pdftoc>2.3.1 ShowIf</a></summary></details>
<details open><summary><a href=#hideif class=pdftoc>2.3.2 HideIf</a></summary></details>
<details open><summary><a href=#note class=pdftoc>2.3.3 note</a></summary></details>
<details open><summary><a href=#include class=pdftoc>2.3.4 include</a></summary><ul><li><a href=#include%e3%81%a7csv%e3%81%ae%e7%89%b9%e5%ae%9a%e3%81%ae%e5%80%a4%e3%81%ae%e3%81%bf%e5%8f%82%e7%85%a7%e3%81%99%e3%82%8b>includeでcsvの特定の値のみ参照する</a></li><li><a href=#%e9%ab%98%e5%ba%a6%e3%81%aa%e8%a1%a8%e3%82%92include%e3%81%99%e3%82%8b%e3%82%bb%e3%83%ab%e7%b5%90%e5%90%88markdown%e5%b9%85%e6%8c%87%e5%ae%9a%e3%83%98%e3%83%83%e3%83%80%e3%83%bc%e6%9c%89%e7%84%a1%e6%8c%87%e5%ae%9a>高度な表をincludeする（セル結合/Markdown/幅指定/ヘッダー有無指定）</a></li></ul></details></ul></nav><p>hugo-theme-vivliocli テーマで使用できるショートコードの一覧です。</p><h2 class=pdftoc id=showif>2.3.1 ShowIf<a class=header-anchor href=#showif>¶</a></h2><p><code>config.toml</code>の<code>showIfs</code>で列挙されている場合に描画する部分を指定します。以下は<code>showIfs = ["edition1"]</code>とした場合に描画されるブロックです。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#f92672>{{</span>% ShowIf edition1 %<span style=color:#f92672>}}</span>
ここにxxxをサポートする場合に表示するコンテンツを記述。
<span style=color:#f92672>{{</span>% /ShowIf %<span style=color:#f92672>}}</span>
</code></pre></div><p>詳しくは <a href=./edition.html>エディション</a> を参照してください。</p><h2 class=pdftoc id=hideif>2.3.2 HideIf<a class=header-anchor href=#hideif>¶</a></h2><p><code>config.toml</code>の<code>showIfs</code>で列挙されている場合に描画「しない」部分を指定します。以下は<code>showIfs = ["edition1"]</code>とした場合に描画されなくなるブロックです。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#f92672>{{</span>% HideIf edition1 %<span style=color:#f92672>}}</span>
ここはedition1のときのみ非表示になる。
<span style=color:#f92672>{{</span>% /HIdeIf %<span style=color:#f92672>}}</span>
</code></pre></div><p>詳しくは <a href=./edition.html>エディション</a> を参照してください。</p><h2 class=pdftoc id=note>2.3.3 note<a class=header-anchor href=#note>¶</a></h2><p>注記です。以下のように<code>note</code>ショートコードで囲まれた部分が注記としてレンダリングされます。</p><pre><code>{{% note %}}
ここに注記文章を記載
{{% /note %}}
</code></pre><div class=note><div class=note_title>Note</div><div class=note_content>ここに注記文章を記載</div></div><p><code>note (title)</code>と言う形式で、引数にタイトルを指定することもできます。note内部にMarkdownを書くことも可能です。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#f92672>{{</span>% note 注記 %<span style=color:#f92672>}}</span>
ここに注記文章を記載

* markdownも記載可能
  * 箇条書きレベル2
* 箇条書きレベル1
<span style=color:#f92672>{{</span>% /note %<span style=color:#f92672>}}</span>
</code></pre></div><div class=note><div class=note_title>注記</div><div class=note_content><p>ここに注記文章を記載</p><ul><li>markdownも記載可能<ul><li>箇条書きレベル2</li></ul></li><li>箇条書きレベル1</li></ul></div></div><h2 class=pdftoc id=include>2.3.4 include<a class=header-anchor href=#include>¶</a></h2><p>Markdownファイル、csvファイルの「部品」を用意しておき、原稿の任意の箇所に「挿し込む」事ができます。部品ファイルを<code>/content/&lt;language>/_include</code>以下に配置しておけば、以下のショートコードでincludeすることができます。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#f92672>{{</span>&lt; include <span style=color:#e6db74>&#34;test_jp.md&#34;</span>  &gt;<span style=color:#f92672>}}</span> <span style=color:#75715e># /content/jp/_include/test_jp.md</span>
<span style=color:#f92672>{{</span>&lt; include <span style=color:#e6db74>&#34;/sample/sample_jp.md&#34;</span> &gt;<span style=color:#f92672>}}</span> <span style=color:#75715e># /content/jp/_include/sample/sample_jp.md</span>
<span style=color:#f92672>{{</span>&lt; include <span style=color:#e6db74>&#34;test_jp.csv&#34;</span>  &gt;<span style=color:#f92672>}}</span> <span style=color:#75715e># /content/jp/_include/test_jp.csv</span>
<span style=color:#f92672>{{</span>&lt; include <span style=color:#e6db74>&#34;./test.csv&#34;</span>  &gt;<span style=color:#f92672>}}</span> <span style=color:#75715e># /(md file dir path)/test_jp.csv</span>
</code></pre></div><ul><li>_includeディレクトリ内のファイルは言語サフィックスをつけてください。（同名ファイルがあるとenが優先される場合がある）</li><li>_includeディレクトリ内のMarkdownにはフロントマターは記載しません。</li><li>_includeディレクトリ内のMarkdownでは、ショートコードは使用できません。（よって多重includeはできません）</li><li>includeショートコードは<code>{{&lt; >}}</code>スタイル（Markdownレンダリング無し）で記述してください。<code>{{% %}}</code>スタイル（Markdownレンダリングあり）で記述すると、csv読み込みが正しく動作しません。</li></ul><h3 id=includeでcsvの特定の値のみ参照する>includeでcsvの特定の値のみ参照する<a class=header-anchor href=#includeでcsvの特定の値のみ参照する>¶</a></h3><p>csvファイルについては行を決定するためのkeyと列名を指定することで特定の値のみを参照することもできます。keyには最も左の列が使われます。重複する値がある場合は最初に見つかったものが優先されます。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#f92672>{{</span>&lt; include <span style=color:#e6db74>&#34;test_jp.csv&#34;</span> <span style=color:#e6db74>&#34;003&#34;</span> <span style=color:#e6db74>&#34;Name&#34;</span> &gt;<span style=color:#f92672>}}</span> <span style=color:#75715e># /content/jp/_include/test_jp.csv の &#34;003&#34; にマッチした行の &#34;Name&#34; 列の値</span>
</code></pre></div><p>上記の場合、1列目の値が<code>003</code>である行の<code>Name</code>列の値がショートコードの位置に挿し込まれます。</p><h3 id=高度な表をincludeするセル結合markdown幅指定ヘッダー有無指定>高度な表をincludeする（セル結合/Markdown/幅指定/ヘッダー有無指定）<a class=header-anchor href=#高度な表をincludeするセル結合markdown幅指定ヘッダー有無指定>¶</a></h3><p>csvファイルのincludeでは、Markdownよりも高度な表を描画することができます。</p><p><figure><img src=assets/2021-06-04-23-59-14.png alt=rich.csv class=fig><figcaption><span class=fig-number>2.3.</span>rich.csv</figcaption></figure></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#f92672>{{</span>&lt; include 
      src<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;./rich.csv&#34;</span> <span style=color:#75715e># sourceファイルのパス</span>
      class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;gray&#34;</span>      <span style=color:#75715e># tableに付加するclass属性。未指定/simple/gray</span>
      markdown<span style=color:#f92672>=</span>true     <span style=color:#75715e># trueにした場合表内部のMarkdownをレンダリング。初期値false</span>
      merge<span style=color:#f92672>=</span>true        <span style=color:#75715e># trueにした場合空セルを上のセルで結合。初期値false</span>
      head<span style=color:#f92672>=</span>true         <span style=color:#75715e># trueにした場合1行目をヘッダーとみなす。初期値true</span>
      width<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;90%&#34;</span>       <span style=color:#75715e># tableのwidth属性を設定。</span>
      width-ratio<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;5%-10%-70%-*&#34;</span> <span style=color:#75715e># tableの列幅の比率を-区切りで指定。&#34;*&#34;はauto。</span>
&gt;<span style=color:#f92672>}}</span> 
</code></pre></div><table class=gray width=90%><thead><tr><th style=text-align:left;width:5%>id</th><th style=text-align:left;width:10%>カテゴリ</th><th style=text-align:left;width:70%>名称</th><th style=text-align:left;width:auto>備考</th></tr></thead><tbody><tr><td rowspan=1>001</td><td rowspan=3>果物</td><td rowspan=1>りんご</td><td rowspan=1><img src=assets/Apple.png alt></td></tr><tr><td rowspan=1>002</td><td rowspan=1>みかん</td><td rowspan=1><ul><li>せとか</li><li>甘平</li></ul></td></tr><tr><td rowspan=1>003</td><td rowspan=1>ぶどう</td><td rowspan=1>巨峰</td></tr><tr><td rowspan=1>004</td><td rowspan=2>お菓子</td><td rowspan=1>ポテトチップス</td><td rowspan=1><ul><li>うすしお</li><li>のりしお</li></ul></td></tr><tr><td rowspan=1>005</td><td rowspan=1>飴</td><td rowspan=1><ul><li>みかん</li><li>ぶどう</li></ul></td></tr></tbody></table></div><script src=../../js/menuscroll.js></script><script src=../../js/clipboard.js></script></body></html>