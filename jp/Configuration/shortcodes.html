<!doctype html><html lang=jp><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>ショートコード</title><link rel="shortcut icon" type=image/x-icon href=../../img/favicon.ico><link rel=stylesheet href=../../css/vivlio-theme-manual.css><aside id=menu><input type=checkbox id=humburger-btn-check>
<label for=humburger-btn-check class=humburger-btn><span></span></label><div class=menu-content><section id=menu-header><div class=logo><img src=../../img/logo.png></div></section><h4><a href=../../jp/>Hugo-theme-vivliocli</a></h4><ul><li><a href=../../jp/GettingStarted.html>1 Getting Started</a><li><a href=../../jp/Configuration.html>2 hugo-theme-vivliocli</a><ul><li><a href=../../jp/Configuration/config.html>2.1 config.tomlの設定</a><li><a href=../../jp/Configuration/pdfconfig.html>2.2 pdf configファイルの作成</a><li><a href=../../jp/Configuration/shortcodes.html id=menu-selected class=menu-selected>2.3 ショートコード</a><li><a href=../../jp/Configuration/frontmatter.html>2.4 フロントマター・記事</a><li><a href=../../jp/Configuration/MarkdownShowcase.html>2.5 Markdownショーケース</a><li><a href=../../jp/Configuration/edition.html>2.6 エディション</a></ul><li><a href=../../jp/Test.html>3 Test</a></ul><section id=menu-footer><hr><div class=language-selector><select class=select-language onchange="location=this.value;">
<option id=jp value=/jp/Configuration/shortcodes.html selected>Japanese</option></select></div><div class=menu-footer><a href=../../jp/tags.html>tags</a></div><hr><div class=menu-footer-space></div></section></div></aside></head><body><div id=content><h1>2.3 ショートコード</h1><nav id=TableOfContents><ul><li><a href=#showif class=pdftoc>2.3.1 ShowIf</a></li><li><a href=#hideif class=pdftoc>2.3.2 HideIf</a></li><li><a href=#note class=pdftoc>2.3.3 note</a></li><li><a href=#include class=pdftoc>2.3.4 include</a><ul><li><a href=#include%e3%81%a7csv%e3%81%ae%e7%89%b9%e5%ae%9a%e3%81%ae%e5%80%a4%e3%81%ae%e3%81%bf%e5%8f%82%e7%85%a7%e3%81%99%e3%82%8b>includeでcsvの特定の値のみ参照する</a></li></ul></li></ul></nav><p>hugo-theme-vivliocli テーマで使用できるショートコードの一覧です。</p><h2 class=pdftoc id=showif>2.3.1 ShowIf<a class=header-anchor href=#showif>¶</a></h2><p><code>config.toml</code>の<code>showIfs</code>で列挙されている場合に描画する部分を指定します。以下は<code>showIfs = ["edition1"]</code>とした場合に描画されるブロックです。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#f92672>{{</span>% ShowIf edition1 %<span style=color:#f92672>}}</span>
ここにxxxをサポートする場合に表示するコンテンツを記述。
<span style=color:#f92672>{{</span>% /ShowIf %<span style=color:#f92672>}}</span>
</code></pre></div><p>詳しくは <a href=./edition.html>エディション</a> を参照してください。</p><h2 class=pdftoc id=hideif>2.3.2 HideIf<a class=header-anchor href=#hideif>¶</a></h2><p><code>config.toml</code>の<code>showIfs</code>で列挙されている場合に描画「しない」部分を指定します。以下は<code>showIfs = ["edition1"]</code>とした場合に描画されなくなるブロックです。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#f92672>{{</span>% HideIf edition1 %<span style=color:#f92672>}}</span>
ここはedition1のときのみ非表示になる。
<span style=color:#f92672>{{</span>% /HIdeIf %<span style=color:#f92672>}}</span>
</code></pre></div><p>詳しくは <a href=./edition.html>エディション</a> を参照してください。</p><h2 class=pdftoc id=note>2.3.3 note<a class=header-anchor href=#note>¶</a></h2><p>注記です。以下のように<code>note</code>ショートコードで囲まれた部分が注記としてレンダリングされます。</p><pre><code>{{% note %}}
ここに注記文章を記載
{{% /note %}}
</code></pre><div class=note><div class=note_title>Note</div><div class=note_content><p>ここに注記文章を記載</p></div></div><p><code>note (title)</code>と言う形式で、引数にタイトルを指定することもできます。note内部にMarkdownを書くことも可能です。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#f92672>{{</span>% note 注記 %<span style=color:#f92672>}}</span>
ここに注記文章を記載

* markdownも記載可能
  * 箇条書きレベル2
* 箇条書きレベル1
<span style=color:#f92672>{{</span>% /note %<span style=color:#f92672>}}</span>
</code></pre></div><div class=note><div class=note_title>注記</div><div class=note_content><p>ここに注記文章を記載</p><ul><li><p>markdownも記載可能</p><ul><li>箇条書きレベル2</li></ul></li><li><p>箇条書きレベル1</p></div></li></ul></div><h2 class=pdftoc id=include>2.3.4 include<a class=header-anchor href=#include>¶</a></h2><p>Markdownファイル、csvファイルの「部品」を用意しておき、原稿の任意の箇所に「挿し込む」事ができます。部品ファイルを<code>/content/&lt;language>/_include</code>以下に配置しておけば、以下のショートコードでincludeすることができます。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#f92672>{{</span>&lt; include <span style=color:#e6db74>&#34;test.md&#34;</span>  &gt;<span style=color:#f92672>}}</span> <span style=color:#75715e># /content/jp/_include/test.md</span>
<span style=color:#f92672>{{</span>&lt; include <span style=color:#e6db74>&#34;/sample/sample.md&#34;</span> &gt;<span style=color:#f92672>}}</span> <span style=color:#75715e># /content/jp/_include/sample/sample.md</span>
<span style=color:#f92672>{{</span>&lt; include <span style=color:#e6db74>&#34;test.csv&#34;</span>  &gt;<span style=color:#f92672>}}</span> <span style=color:#75715e># /content/jp/_include/test.csv</span>
</code></pre></div><ul><li>_includeディレクトリ内のMarkdownにはフロントマターは記載しません。</li><li>_includeディレクトリ内のMarkdownでは、ショートコードは使用できません。（よって多重includeはできません）</li><li>includeショートコードは<code>{{&lt; >}}</code>スタイル（Markdownレンダリング無し）で記述してください。<code>{{% %}}</code>スタイル（Markdownレンダリングあり）で記述すると、csv読み込みが正しく動作しません。</li></ul><h3 id=includeでcsvの特定の値のみ参照する>includeでcsvの特定の値のみ参照する<a class=header-anchor href=#includeでcsvの特定の値のみ参照する>¶</a></h3><p>csvファイルについては行を決定するためのkeyと列名を指定することで特定の値のみを参照することもできます。keyには最も左の列が使われます。重複する値がある場合は最初に見つかったものが優先されます。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#f92672>{{</span>&lt; include <span style=color:#e6db74>&#34;test.csv&#34;</span> <span style=color:#e6db74>&#34;003&#34;</span> <span style=color:#e6db74>&#34;Name&#34;</span> &gt;<span style=color:#f92672>}}</span> <span style=color:#75715e># /content/jp/_include/test.csv の &#34;003&#34; にマッチした行の &#34;Name&#34; 列の値</span>
</code></pre></div><p>上記の場合、1列目の値が<code>003</code>である行の<code>Name</code>列の値がショートコードの位置に挿し込まれます。</p></div><script src=../../js/menuscroll.js></script><script src=../../js/clipboard.js></script></body></html>