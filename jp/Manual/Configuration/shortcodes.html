<!doctype html><html lang=jp><head><meta charset=utf-8><meta data-id=68e7ffa667e11f72c1aa241cb80916a2><meta name=viewport content="width=device-width,initial-scale=1"><title>ショートコード</title><link rel="shortcut icon" type=image/x-icon href=../../../img/favicon.ico><link rel=stylesheet href=../../../css/style-main.css><link rel=stylesheet href=../../../css/style-browser.css><link rel=stylesheet href=../../../css/page-counter-book.css><link rel=stylesheet href=../../../css/style-book.css><link rel=stylesheet href=../../../css/style-first.css><input type=checkbox id=accordion-btn-check>
<label for=accordion-btn-check class=accordion-btn><span></span></label><aside id=menu><input type=checkbox id=humburger-btn-check>
<label for=humburger-btn-check class=humburger-btn><span></span></label><div class=menu-content><section id=menu-header><div class=logo><img src=../../../img/logo.png></div></section><h4><a href=../../../jp/index.html>Hugo-theme-vivliocli</a></h4><nav id=menu-navigation><ul><details><summary><a href=../../../jp/Manual.html id=c227826866e5ab6b98f048b55d14b8b0>Manual</a></summary><ul><details><summary><a href=../../../jp/Manual/GettingStarted.html id=61d4ed797fc9ca3993bb3cd05bf389da>第1章 Getting Started</a></summary><ul><li><a href=../../../jp/Manual/GettingStarted/GettingStarted.html id=dfe2b86b7cc34993d439fe998ba7c3ed>1.1 Getting Started</a></ul></details><details><summary><a href=../../../jp/Manual/Configuration.html id=69dd4011c1f329fe96f5a51199f98418>第2章 hugo-theme-vivliocli</a></summary><ul><li><a href=../../../jp/Manual/Configuration/config.html id=8130aacfa858aa72a0a436df6eb38d33>2.1 config.tomlの設定</a><li><a href=../../../jp/Manual/Configuration/pdfconfig.html id=7fd84f89c9e504a9f3edde2284cf2ce3>2.2 pdf configファイルの作成</a><li><a href=../../../jp/Manual/Configuration/shortcodes.html id=68e7ffa667e11f72c1aa241cb80916a2>2.3 ショートコード</a><li><a href=../../../jp/Manual/Configuration/frontmatter.html id=32df05324e5791c33bf1664b6f1d9591>2.4 フロントマター・記事</a><li><a href=../../../jp/Manual/Configuration/MarkdownShowcase.html id=42ce3a133f63ff788e6fa973f03c2296>2.5 Markdownショーケース</a><li><a href=../../../jp/Manual/Configuration/edition.html id=ff37f16da7115adff7500132a23c965d>2.6 エディション</a><li><a href=../../../jp/Manual/Configuration/Tags.html id=d39e93453960c8e09ed357de294767f6>2.7 ページにタグ付けする</a></ul></details></ul></details></ul></nav><section id=menu-footer><hr><div class=language-selector><details class=select-language><summary>Languages</summary><div class=one-language><a href=../../../jp/Manual/Configuration/shortcodes.html>Japanese</a></div></details></div><div class=menu-footer><a href=../../../jp/tags.html>tags</a></div><hr><div class=menu-footer-space></div></section></div></aside></head><body><input type=checkbox id=right-accordion-btn-check>
<label for=right-accordion-btn-check class=right-accordion-btn><span></span></label><div id=content><input type=checkbox id=pagetoc-accordion-btn-check>
<label for=pagetoc-accordion-btn-check class=pagetoc-accordion-btn>目次</label><nav id=TableOfContents-sidebar><ul><details open><summary><a href=#showif>ShowIf</a></summary></details>
<details open><summary><a href=#hideif>HideIf</a></summary></details>
<details open><summary><a href=#note>note</a></summary></details>
<details open><summary><a href=#include>include</a></summary><ul><li><a href=#csv%e3%81%aeinclude>csvのinclude</a></li><li><a href=#csv%e3%81%ae%e6%9b%b8%e5%bc%8f>csvの書式</a></li><li><a href=#csv%e3%81%ae%e7%89%b9%e5%ae%9a%e3%81%ae%e5%80%a4%e3%81%ae%e3%81%bf%e5%8f%82%e7%85%a7%e3%81%99%e3%82%8b>csvの特定の値のみ参照する</a></li></ul></details></ul></nav><h1><span class=section-number>2.3</span><span>ショートコード</span></h1><p>hugo-theme-vivliocli テーマで使用できるショートコードの一覧です。</p><h2 id=showif>ShowIf<a class=header-anchor href=#showif>¶</a></h2><p><code>config.toml</code>の<code>showIfs</code>で列挙されている場合に描画する部分を指定します。以下は<code>showIfs = ["edition1"]</code>とした場合に描画されるブロックです。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#f92672>{{</span>% ShowIf edition1 %<span style=color:#f92672>}}</span>
</span></span><span style=display:flex><span>ここにxxxをサポートする場合に表示するコンテンツを記述。
</span></span><span style=display:flex><span><span style=color:#f92672>{{</span>% /ShowIf %<span style=color:#f92672>}}</span>
</span></span></code></pre></div><p>詳しくは <a href=./edition.html>エディション</a> を参照してください。</p><h2 id=hideif>HideIf<a class=header-anchor href=#hideif>¶</a></h2><p><code>config.toml</code>の<code>showIfs</code>で列挙されている場合に描画「しない」部分を指定します。以下は<code>showIfs = ["edition1"]</code>とした場合に描画されなくなるブロックです。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#f92672>{{</span>% HideIf edition1 %<span style=color:#f92672>}}</span>
</span></span><span style=display:flex><span>ここはedition1のときのみ非表示になる。
</span></span><span style=display:flex><span><span style=color:#f92672>{{</span>% /HIdeIf %<span style=color:#f92672>}}</span>
</span></span></code></pre></div><p>詳しくは <a href=./edition.html>エディション</a> を参照してください。</p><h2 id=note>note<a class=header-anchor href=#note>¶</a></h2><p>注記です。以下のように<code>note</code>ショートコードで囲まれた部分が注記としてレンダリングされます。</p><pre tabindex=0><code>{{% note %}}
ここに注記文章を記載
{{% /note %}}
</code></pre><div class=note><div class=note_title>Note</div><div class=note_content><p>ここに注記文章を記載</p></div></div><p><code>note (title)</code>と言う形式で、引数にタイトルを指定することもできます。note内部にMarkdownを書くことも可能です。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#f92672>{{</span>% note 注記 %<span style=color:#f92672>}}</span>
</span></span><span style=display:flex><span>ここに注記文章を記載
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>* markdownも記載可能
</span></span><span style=display:flex><span>  * 箇条書きレベル2
</span></span><span style=display:flex><span>* 箇条書きレベル1
</span></span><span style=display:flex><span><span style=color:#f92672>{{</span>% /note %<span style=color:#f92672>}}</span>
</span></span></code></pre></div><div class=note><div class=note_title>注記</div><div class=note_content><p>ここに注記文章を記載</p><ul><li><p>markdownも記載可能</p><ul><li>箇条書きレベル2</li></ul></li><li><p>箇条書きレベル1</p></div></li></ul></div><h2 id=include>include<a class=header-anchor href=#include>¶</a></h2><p>Markdownファイル、csvファイルの「部品」を用意しておき、原稿の任意の箇所に「挿し込む」事ができます。部品ファイルを<code>/content/&lt;language>/_include</code>以下に配置しておけば、以下のショートコードでincludeすることができます。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#f92672>{{</span>&lt; include <span style=color:#e6db74>&#34;test_jp.md&#34;</span>  &gt;<span style=color:#f92672>}}</span> <span style=color:#75715e># /content/jp/_include/test_jp.md</span>
</span></span><span style=display:flex><span><span style=color:#f92672>{{</span>&lt; include <span style=color:#e6db74>&#34;/sample/sample_jp.md&#34;</span> &gt;<span style=color:#f92672>}}</span> <span style=color:#75715e># /content/jp/_include/sample/sample_jp.md</span>
</span></span><span style=display:flex><span><span style=color:#f92672>{{</span>&lt; include <span style=color:#e6db74>&#34;test_jp.csv&#34;</span>  &gt;<span style=color:#f92672>}}</span> <span style=color:#75715e># /content/jp/_include/test_jp.csv</span>
</span></span><span style=display:flex><span><span style=color:#f92672>{{</span>&lt; include <span style=color:#e6db74>&#34;./test.csv&#34;</span>  &gt;<span style=color:#f92672>}}</span> <span style=color:#75715e># /(md file dir path)/test_jp.csv</span>
</span></span></code></pre></div><ul><li>_includeディレクトリ内のMarkdownにはフロントマターは記載しません。</li><li>includeショートコードは<code>{{&lt; >}}</code>スタイル（Markdownレンダリング無し）で記述してください。<code>{{% %}}</code>スタイル（Markdownレンダリングあり）で記述すると、csv読み込みが正しく動作しません。</li></ul><h3 id=csvのinclude>csvのinclude<a class=header-anchor href=#csvのinclude>¶</a></h3><p>csvファイルのincludeでは、Markdownよりも高度な表を描画することができます。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#f92672>{{</span>&lt; include 
</span></span><span style=display:flex><span>      src<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;./rich.csv&#34;</span> <span style=color:#75715e># sourceファイルのパス</span>
</span></span><span style=display:flex><span>      class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;gray&#34;</span>      <span style=color:#75715e># tableに付加するclass属性。未指定/simple/gray</span>
</span></span><span style=display:flex><span>      markdown<span style=color:#f92672>=</span>true     <span style=color:#75715e># trueにした場合表内部のMarkdownをレンダリング。初期値false</span>
</span></span><span style=display:flex><span>      head<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>         <span style=color:#75715e># trueにした場合1行目をヘッダーとみなす。初期値true。数値の場合数値行数をヘッダーとみなす。</span>
</span></span><span style=display:flex><span>      width<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;90%&#34;</span>       <span style=color:#75715e># tableのwidth属性を設定。</span>
</span></span><span style=display:flex><span>&gt;<span style=color:#f92672>}}</span> 
</span></span></code></pre></div><table class=gray width=90%><thead><tr><th style=width:auto colspan=1 rowspan=1><div class="csvtable-cell csvtable-header-cell">id</div></th><th colspan=1 rowspan=1><div class="csvtable-cell csvtable-header-cell">カテゴリ</div></th><th colspan=1 rowspan=1><div class="csvtable-cell csvtable-header-cell">名称</div></th><th colspan=1 rowspan=1><div class="csvtable-cell csvtable-header-cell">備考</div></th></tr></thead><tbody><tr><td style=width:auto colspan=1 rowspan=1><div class="csvtable-cell csvtable-body-cell">001</div></td><td colspan=1 rowspan=3><div class="csvtable-cell csvtable-body-cell">果物</div></td><td colspan=1 rowspan=1><div class="csvtable-cell csvtable-body-cell">りんご</div></td><td colspan=1 rowspan=1><div class="csvtable-cell csvtable-body-cell"><img src=assets/Apple.png alt></div></td></tr><tr><td style=width:auto colspan=1 rowspan=1><div class="csvtable-cell csvtable-body-cell">002</div></td><td colspan=1 rowspan=1><div class="csvtable-cell csvtable-body-cell">みかん</div></td><td colspan=1 rowspan=1><div class="csvtable-cell csvtable-body-cell"><ul><li>せとか</li><li>甘平</li></ul></div></td></tr><tr><td style=width:auto colspan=1 rowspan=1><div class="csvtable-cell csvtable-body-cell">003</div></td><td colspan=1 rowspan=1><div class="csvtable-cell csvtable-body-cell">ぶどう</div></td><td colspan=1 rowspan=1><div class="csvtable-cell csvtable-body-cell">巨峰</div></td></tr><tr><td style=width:auto colspan=1 rowspan=1><div class="csvtable-cell csvtable-body-cell">004</div></td><td colspan=1 rowspan=2><div class="csvtable-cell csvtable-body-cell">お菓子</div></td><td colspan=1 rowspan=1><div class="csvtable-cell csvtable-body-cell">ポテトチップス</div></td><td colspan=1 rowspan=1><div class="csvtable-cell csvtable-body-cell"><ul><li>うすしお</li><li>のりしお</li></ul></div></td></tr><tr><td style=width:auto colspan=1 rowspan=1><div class="csvtable-cell csvtable-body-cell">005</div></td><td colspan=1 rowspan=1><div class="csvtable-cell csvtable-body-cell">飴</div></td><td colspan=1 rowspan=1><div class="csvtable-cell csvtable-body-cell"><ul><li>みかん</li><li>ぶどう</li></ul></div></td></tr></tbody></table><h3 id=csvの書式>csvの書式<a class=header-anchor href=#csvの書式>¶</a></h3><h4 id=縦横結合>縦横結合<a class=header-anchor href=#縦横結合>¶</a></h4><p><code>||</code>で縦方向に結合,<code>-></code>で横方向に結合できます。</p><h4 id=columncodes>ColumnCodes<a class=header-anchor href=#columncodes>¶</a></h4><p>ヘッダー（複数行の場合最終行）に ColumnCodes を埋め込むことができます。 ColumnCodes は<code>[[@&lt;識別子>=&lt;値>]]</code>という形式のコードです。ヘッダーセルの文末に記載することで列に対して作用します。 <code></code>(半角スペース) や <code>,</code> 区切りで複数指定することが可能です以下にColumnCodesの一覧を列挙します。</p><ul><li><code>[[@id=myColumnId]]</code> : この列の全セルの<code>&lt;td></code>タグに<code>myColumnId</code>を<code>class</code>属性として埋め込みます。</li><li><code>[[@w=20%]]</code> : この列の幅をテーブルの20%とします。指定のない列は<code>auto</code>とみなされます。本コードが1つでもあると、<code>include</code>ショートコードの<code>width_ratio</code>オプションは無視されます。</li></ul><p><figure><img src=assets/20220820215713.png alt=rich.csv class=fig><figcaption><span class=fig-number>2.3.</span>rich.csv</figcaption></figure></p><h3 id=csvの特定の値のみ参照する>csvの特定の値のみ参照する<a class=header-anchor href=#csvの特定の値のみ参照する>¶</a></h3><p>csvファイルについては行を決定するためのkeyと列名を指定することで特定の値のみを参照することもできます。keyには最も左の列が使われます。重複する値がある場合は最初に見つかったものが優先されます。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#f92672>{{</span>&lt; include <span style=color:#e6db74>&#34;test_jp.csv&#34;</span> <span style=color:#e6db74>&#34;003&#34;</span> <span style=color:#e6db74>&#34;Name&#34;</span> &gt;<span style=color:#f92672>}}</span> <span style=color:#75715e># /content/jp/_include/test_jp.csv の &#34;003&#34; にマッチした行の &#34;Name&#34; 列の値</span>
</span></span></code></pre></div><p>上記の場合、1列目の値が<code>003</code>である行の<code>Name</code>列の値がショートコードの位置に挿し込まれます。</p></div><script src=../../../js/menuscroll.min.js></script>
<script src=../../../js/copyclipboard.min.js></script></body></html>